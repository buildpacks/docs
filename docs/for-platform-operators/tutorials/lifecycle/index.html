<!doctype html>
<html lang="en">

<head>
  


<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A platform orchestrates builds by invoking the lifecycle binary together with buildpacks and application source code to produce a runnable OCI image.
"/>
<link rel="canonical" content="https://buildpacks.io/docs/for-platform-operators/tutorials/lifecycle/">
<link rel="icon" type="image/png" href="/images/favicon.png">






<meta property="og:title" content="Orchestrate a build with the CNB lifecycle · Cloud Native Buildpacks">
<meta property="og:type" content="website">
<meta property="og:url" content="https://buildpacks.io/docs/for-platform-operators/tutorials/lifecycle/">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Cloud Native Buildpacks">
<meta property="og:description" content="A platform orchestrates builds by invoking the lifecycle binary together with buildpacks and application source code to produce a runnable OCI image.
">
<meta property="og:type" content="article">
<meta property="og:image" content="https://buildpacks.io/images/buildpacks-social-card.jpg">
<meta property="og:image:alt" content="Buildpacks project logo">
<meta property="og:image:type" content="image/jpeg">






<meta property="twitter:title" content="Orchestrate a build with the CNB lifecycle · Cloud Native Buildpacks">
<meta property="twitter:card" content="summary">
<meta property="twitter:image" content="https://buildpacks.io/images/buildpacks-social-card-square.jpg">
<meta property="twitter:image:alt" content="Buildpacks project logo">
<meta property="twitter:site" content="@buildpacks_io">
<meta property="twitter:creator" content="@buildpacks_io">

  <script
    src="https://cdn.jsdelivr.net/combine/npm/axios@1.7.9,npm/jquery@3.7.1,npm/bootstrap@5.3.3,npm/fullcalendar@5.4.0,npm/jquery-replacetext@1.1.0/replacetext.min.js"></script>


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css"
    crossorigin="anonymous">
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/combine/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css,npm/fullcalendar@5.4.0/main.min.css"
    crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono|Source+Sans+Pro:400,400i,600" rel="stylesheet">
  
  <link rel="stylesheet" href="https://buildpacks.io/scss/site.css" integrity="" media="screen">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CJLSR4FQXL"></script>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/asciinema-player/2.6.1/asciinema-player.min.css"
    integrity="sha512-tv24MiwP+0CRCL80VsmJYPl/xDD2tdlDMz9fhNCIAQ6UPrj6Kh/57hOt9A4YnoNDKH5QDxJqGhtt9NPW2sgQeg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer">
  <style type="text/css">
    .asciinema-theme-asciinema .fg-15 {
        color: #6a2929;
    }
    .asciinema-theme-asciinema .asciinema-terminal {
        color: #888888;
    }
  </style>

  <script>
    $(function () {
      $('h1[id], h2[id], h3[id], h4[id], h5[id]').not(':has(a)').each(function () {
        this.innerHTML =
          `<a href="#${this.id}" class="h-anchor">
            ${this.innerHTML} <i class="fas fa-link icon" aria-label="Anchor"></i>
          </a>`;
      });

      if ($('input#search').length > 0) {
        docsearch({
          apiKey: '5c00a51f166dab99e1cc6e0a9976e9f9',
          indexName: 'buildpacks',
          inputSelector: 'input#search',
          debug: false
        });
      }
    });

    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-CJLSR4FQXL');
  </script>

  <title>Orchestrate a build with the CNB lifecycle · Cloud Native Buildpacks</title>
</head>

<body>
  <header class="container px-0">
  <nav class="navbar navbar-expand-lg navbar-light">
    <a href="https://buildpacks.io/" class="logo navbar-brand"><img src="/images/buildpacks-logo.svg"
        alt="Buildpacks Logo"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
      <ul class="navbar-nav">
        
        
          
          <li class="nav-item ms-lg-4 text-center text-lg-left ">
            <a class="nav-link py-2 py-lg-0 px-1"  
              href="/features">
              Features
            </a>
          </li>
        
          
          <li class="nav-item ms-lg-4 text-center text-lg-left ">
            <a class="nav-link py-2 py-lg-0 px-1"  
              href="/community">
              Community
            </a>
          </li>
        
          
          <li class="nav-item ms-lg-4 text-center text-lg-left ">
            <a class="nav-link py-2 py-lg-0 px-1" target='_blank' 
              href="https://medium.com/buildpacks">
              Blog
            </a>
          </li>
        
          
          <li class="nav-item ms-lg-4 text-center text-lg-left ">
            <a class="nav-link py-2 py-lg-0 px-1" target='_blank' 
              href="https://registry.buildpacks.io/">
              Registry
            </a>
          </li>
        
    
        
        <li class="nav-item text-center d-lg-none">
          <a class="nav-link py-2 px-1" href="/docs">Docs</a>
        </li>
        <li class="nav-item text-center d-lg-none">
          <a class="nav-link py-2 px-1" target='_blank' rel="noopener noreferrer" href="https://github.com/buildpacks">GitHub</a>
        </li>
      </ul>

      <a class="button-light ms-3 d-none d-lg-block" href="/docs">
        <i class="far fa-file-alt me-2"></i>Docs
      </a>
       <a class="github-button ms-3  icon-button bg-blue button d-none d-lg-flex" href="https://github.com/buildpacks">GitHub</a>
    </div>    
  </nav>
</header>

  

<div class='docs'>
  <div class="container">
    <div class='row'>
      <div class='col-md-3 docs-sidebar'>
        <nav class='sidebar'>
  <form class="pt-1 pb-3 pl-2 pr-3 border-bottom">
    <input id="search" class="form-control" type="search" placeholder="Search..." aria-label="Search">
  </form>
  <ul>
    <li data-nav-id="/docs/" class="dd-item depth-0">
      <a href="/docs/">Getting Started</a>
      <ul class="ml-2">
        
<li data-nav-id="/docs/app-journey/" class="dd-item depth-1 collapse">
  <a href="/docs/app-journey/">An App&rsquo;s Brief Journey from Source to Image</a>
</li>
      </ul>
    </li>
<li data-nav-id="/docs/for-app-developers/" class="dd-item depth-0 haschildren">
  <a href="/docs/for-app-developers/">For App Developers</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/tutorials/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-app-developers/tutorials/">Tutorials</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/tutorials/basic-app/" class="dd-item depth-2">
  <a href="/docs/for-app-developers/tutorials/basic-app/">Build your very first application with buildpacks</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-app-developers/concepts/">Concepts</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/concepts/buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/buildpack/">What is a buildpack?</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/builder/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/builder/">What is a builder?</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/build/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/build/">What happens during build?</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/rebase/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/rebase/">What happens during rebase?</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/platform/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/platform/">What is a platform?</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/base-images/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-app-developers/concepts/base-images/">What are base images?</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/concepts/base-images/build/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/concepts/base-images/build/">Build image</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/base-images/run/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/concepts/base-images/run/">Run image</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/base-images/stack/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/concepts/base-images/stack/">Stack</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/reproducibility/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/reproducibility/">What is build reproducibility?</a>
</li>
<li data-nav-id="/docs/for-app-developers/concepts/experimental-features/" class="dd-item depth-2 collapse">
  <a href="/docs/for-app-developers/concepts/experimental-features/">What are experimental features?</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-app-developers/how-to/">How To</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-app-developers/how-to/build-inputs/">Configure build inputs</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/specify-buildpacks/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/specify-buildpacks/">Specify buildpacks or extensions at build time</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/configure-build-time-environment/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/configure-build-time-environment/">Customize buildpack behavior with build-time environment variables</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/use-volume-mounts/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/use-volume-mounts/">Mount volumes at build-time</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/use-project-toml/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/use-project-toml/">Use project.toml</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/use-inline-buildpacks/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/use-inline-buildpacks/">Use an inline buildpack</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/use-cache-image/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/use-cache-image/">Use a cache image</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/specify-export-target/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/specify-export-target/">Specify export target</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-inputs/specify-default-launch-process/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-inputs/specify-default-launch-process/">Specify the default launch process</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-outputs/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-app-developers/how-to/build-outputs/">Understand build outputs</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/how-to/build-outputs/specify-launch-process/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-outputs/specify-launch-process/">Run the application</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-outputs/inspect-app/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-outputs/inspect-app/">Inspect your application image</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-outputs/download-sbom/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-outputs/download-sbom/">Download a Software Bill-of-Materials (SBOM)</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/build-outputs/understand-failures/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/build-outputs/understand-failures/">Understand build failures</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/special-cases/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-app-developers/how-to/special-cases/">Build in custom environments</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-app-developers/how-to/special-cases/build-for-arm/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/special-cases/build-for-arm/">Build for ARM architecture</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/special-cases/build-for-windows/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/special-cases/build-for-windows/">Build for Windows containers</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/special-cases/export-to-oci-layout/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/special-cases/export-to-oci-layout/">Export to OCI layout format on disk</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/special-cases/use-http-proxy/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/special-cases/use-http-proxy/">Use an HTTP proxy</a>
</li>
<li data-nav-id="/docs/for-app-developers/how-to/special-cases/build-on-podman/" class="dd-item depth-3 collapse">
  <a href="/docs/for-app-developers/how-to/special-cases/build-on-podman/">Build on Podman</a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/" class="dd-item depth-0 parent haschildren">
  <a href="/docs/for-platform-operators/">For Platform Operators</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/tutorials/" class="dd-item depth-1 parent haschildren">
  <a href="/docs/for-platform-operators/tutorials/">Tutorials</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/tutorials/lifecycle/" class="dd-item depth-2 active">
  <a href="/docs/for-platform-operators/tutorials/lifecycle/">Orchestrate a build with the CNB lifecycle</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-platform-operators/concepts/">Concepts</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/concepts/buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-platform-operators/concepts/buildpack/">What is a buildpack?</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/builder/" class="dd-item depth-2 collapse">
  <a href="/docs/for-platform-operators/concepts/builder/">What is a builder?</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-platform-operators/concepts/lifecycle/">What is the lifecycle?</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/analyze/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/analyze/">Analyze</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/detect/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/detect/">Detect</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/restore/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/restore/">Restore</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/build/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/build/">Build</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/export/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/export/">Export</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/create/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/create/">Create</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/launch/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/launch/">Launch</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/rebase/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/rebase/">Rebase</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/lifecycle/extend/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/concepts/lifecycle/extend/">Extend</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/base-images/" class="dd-item depth-2 collapse">
  <a href="/docs/for-platform-operators/concepts/base-images/">Base image types</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/composite-buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-platform-operators/concepts/composite-buildpack/">What is a composite buildpack?</a>
</li>
<li data-nav-id="/docs/for-platform-operators/concepts/extension/" class="dd-item depth-2 collapse">
  <a href="/docs/for-platform-operators/concepts/extension/">What is an image extension?</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-platform-operators/how-to/">How To</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/">Integrate with your favorite CI tooling</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/" class="dd-item depth-3 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/">Pack</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/concepts/" class="dd-item depth-4 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/concepts/">Concepts</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/concepts/trusted_builders/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/concepts/trusted_builders/">Trusted Builders</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/" class="dd-item depth-4 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/">CLI Docs</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack/">pack</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_build/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_build/">pack build</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder/">pack builder</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder_create/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder_create/">pack builder create</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder_inspect/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder_inspect/">pack builder inspect</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder_suggest/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_builder_suggest/">pack builder suggest</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack/">pack buildpack</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_inspect/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_inspect/">pack buildpack inspect</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_new/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_new/">pack buildpack new</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_package/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_package/">pack buildpack package</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_pull/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_pull/">pack buildpack pull</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_register/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_register/">pack buildpack register</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_yank/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_buildpack_yank/">pack buildpack yank</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_completion/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_completion/">pack completion</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config/">pack config</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_default-builder/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_default-builder/">pack config default-builder</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_experimental/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_experimental/">pack config experimental</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_lifecycle-image/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_lifecycle-image/">pack config lifecycle-image</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_pull-policy/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_pull-policy/">pack config pull-policy</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries/">pack config registries</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_add/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_add/">pack config registries add</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_default/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_default/">pack config registries default</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_list/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_list/">pack config registries list</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_remove/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registries_remove/">pack config registries remove</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors/">pack config registry-mirrors</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors_add/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors_add/">pack config registry-mirrors add</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors_list/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors_list/">pack config registry-mirrors list</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors_remove/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_registry-mirrors_remove/">pack config registry-mirrors remove</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors/">pack config run-image-mirrors</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors_add/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors_add/">pack config run-image-mirrors add</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors_list/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors_list/">pack config run-image-mirrors list</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors_remove/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_run-image-mirrors_remove/">pack config run-image-mirrors remove</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders/">pack config trusted-builders</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders_add/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders_add/">pack config trusted-builders add</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders_list/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders_list/">pack config trusted-builders list</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders_remove/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_config_trusted-builders_remove/">pack config trusted-builders remove</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension/">pack extension</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_inspect/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_inspect/">pack extension inspect</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_new/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_new/">pack extension new</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_package/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_package/">pack extension package</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_pull/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_pull/">pack extension pull</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_register/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_register/">pack extension register</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_yank/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_extension_yank/">pack extension yank</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_inspect/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_inspect/">pack inspect</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest/">pack manifest</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_add/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_add/">pack manifest add</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_annotate/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_annotate/">pack manifest annotate</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_create/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_create/">pack manifest create</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_inspect/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_inspect/">pack manifest inspect</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_push/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_push/">pack manifest push</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_remove/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_remove/">pack manifest remove</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_rm/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_manifest_rm/">pack manifest rm</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_rebase/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_rebase/">pack rebase</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_report/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_report/">pack report</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_sbom/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_sbom/">pack sbom</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_sbom_download/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_sbom_download/">pack sbom download</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_stack/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_stack/">pack stack</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_stack_suggest/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_stack_suggest/">pack stack suggest</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_version/" class="dd-item depth-5 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/pack/cli/pack_version/">pack version</a>
</li>
  </ul>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/kpack/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/kpack/">kpack</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/circleci/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/circleci/">CircleCI</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/gitlab/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/gitlab/">Gitlab Auto DevOps</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/piper/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/piper/">Project &ldquo;Piper&rdquo;</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/integrate-ci/tekton/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/integrate-ci/tekton/">Tekton</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/build-inputs/">Prepare build inputs</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/create-builder/" class="dd-item depth-3 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/build-inputs/create-builder/">Create a builder</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/create-builder/build-base/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/create-builder/build-base/">Create a build base image</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/create-builder/run-base/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/create-builder/run-base/">Create a run base image</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/create-builder/builder/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/create-builder/builder/">Putting it all together</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/create-builder/extensions/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/create-builder/extensions/">Specify an image extension in a builder</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/declare-source-metadata/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/declare-source-metadata/">Declare source metadata</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/build-env/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/build-env/">Specify the build time environment variables</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/build-inputs/stack/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/build-inputs/stack/">Create a stack (deprecated)</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/migrate/">Migrate</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/platform-api-0.7-0.8/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/platform-api-0.7-0.8/">Platform API 0.7 -&gt; 0.8</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/platform-api-0.8-0.9/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/platform-api-0.8-0.9/">Platform API 0.8 -&gt; 0.9</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/platform-api-0.9-0.10/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/platform-api-0.9-0.10/">Platform API 0.9 -&gt; 0.10</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/platform-api-0.10-0.11/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/platform-api-0.10-0.11/">Platform API 0.10 -&gt; 0.11</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/platform-api-0.11-0.12/" class="dd-item depth-3 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/platform-api-0.11-0.12/">Platform API 0.11 -&gt; 0.12</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/deprecated/" class="dd-item depth-3 collapse haschildren">
  <a href="/docs/for-platform-operators/how-to/migrate/deprecated/">Deprecated (unsupported) APIs</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.3-0.4/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.3-0.4/">Platform API 0.3 -&gt; 0.4</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.4-0.5/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.4-0.5/">Platform API 0.4 -&gt; 0.5</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.5-0.6/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.5-0.6/">Platform API 0.5 -&gt; 0.6</a>
</li>
<li data-nav-id="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.6-0.7/" class="dd-item depth-4 collapse">
  <a href="/docs/for-platform-operators/how-to/migrate/deprecated/platform-api-0.6-0.7/">Platform API 0.6 -&gt; 0.7</a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/" class="dd-item depth-0 haschildren">
  <a href="/docs/for-buildpack-authors/">For Buildpack Authors</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/tutorials/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-buildpack-authors/tutorials/">Tutorials</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/" class="dd-item depth-2 haschildren">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/">Write a basic buildpack</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/01_setup-local-environment/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/01_setup-local-environment/">Setting up your local environment</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/02_building-blocks-cnb/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/02_building-blocks-cnb/">The building blocks of a Cloud Native Buildpack</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/03_detection/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/03_detection/">Detecting your application</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/04_build-app/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/04_build-app/">Building your application</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/05_make-app-runnable/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/05_make-app-runnable/">Making your application runnable</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/06_caching/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/06_caching/">Improving performance with caching</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-buildpack/07_make-buildpack-configurable/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-buildpack/07_make-buildpack-configurable/">Making your buildpack configurable</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/" class="dd-item depth-2 haschildren">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/">Write a basic extension</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/01_setup-local-environment/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/01_setup-local-environment/">Setting up your local environment</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/02_why-dockerfiles/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/02_why-dockerfiles/">Why this feature?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/03_building-blocks-extension/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/03_building-blocks-extension/">The building blocks of a CNB image extension</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/04_build-dockerfile/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/04_build-dockerfile/">Extending the build-time base image with a build.Dockerfile</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/05_run-dockerfile-switch/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/05_run-dockerfile-switch/">Switching the runtime base image with a run.Dockerfile</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/tutorials/basic-extension/06_run-dockerfile-extend/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/tutorials/basic-extension/06_run-dockerfile-extend/">Extending the runtime base image with a run.Dockerfile</a>
</li>
  </ul>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-buildpack-authors/concepts/">Concepts</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/concepts/buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/buildpack/">What is a buildpack?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/lifecycle-phases/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/lifecycle-phases/">What is the lifecycle?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/buildpack-group/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/buildpack-group/">What is a buildpack group?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/targets/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/targets/">What are targets?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/caching-strategies/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/caching-strategies/">What caching strategies are available to buildpacks?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/layer/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/layer/">What is a buildpack dependency layer?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/package/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/package/">What is a buildpack package?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/component-buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/component-buildpack/">What is a component buildpack?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/composite-buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/composite-buildpack/">What is a composite buildpack?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/extension/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/extension/">What is an image extension?</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/concepts/build-plan/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/concepts/build-plan/">What is the build plan?</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/" class="dd-item depth-1 haschildren">
  <a href="/docs/for-buildpack-authors/how-to/">How To</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/">Write buildpacks</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/get-started/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/get-started/">Get started</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/use-build-plan/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/use-build-plan/">Use the build plan</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/create-layer/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/create-layer/">Create dependency layers</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/specify-launch-processes/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/specify-launch-processes/">Specify process types</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/add-sbom/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/add-sbom/">Provide a Software Bill-of-Materials</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/add-labels/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/add-labels/">Add labels to the application image</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/clear-env/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/clear-env/">Clear the buildpack environment</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/create-slice-layers/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/create-slice-layers/">Create slice layers</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/re-use-layers/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/re-use-layers/">Re-use dependency layers</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/specify-env/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/specify-env/">Specify the environment</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-buildpacks/use-exec.d/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-buildpacks/use-exec.d/">Use exec.d binaries to configure the application at runtime</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-extensions/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-buildpack-authors/how-to/write-extensions/">Write extensions</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/how-to/write-extensions/guidance/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/write-extensions/guidance/">Guidance for extension authors</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/distribute-buildpacks/package-buildpack/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/how-to/distribute-buildpacks/package-buildpack/">Package a buildpack or extension</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/distribute-buildpacks/publish-buildpack/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-buildpack-authors/how-to/distribute-buildpacks/publish-buildpack/">Publish a buildpack</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/how-to/distribute-buildpacks/publish-buildpack/with-github-actions/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/distribute-buildpacks/publish-buildpack/with-github-actions/">Publishing with Github Actions</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/distribute-buildpacks/craft-order/" class="dd-item depth-2 collapse">
  <a href="/docs/for-buildpack-authors/how-to/distribute-buildpacks/craft-order/">Craft a buildpack order</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/" class="dd-item depth-2 collapse haschildren">
  <a href="/docs/for-buildpack-authors/how-to/migrate/">Migrate</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/buildpack-api-0.7-0.8/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/migrate/buildpack-api-0.7-0.8/">Buildpack API 0.7 -&gt; 0.8</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/buildpack-api-0.8-0.9/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/migrate/buildpack-api-0.8-0.9/">Buildpack API 0.8 -&gt; 0.9</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/buildpack-api-0.9-0.10/" class="dd-item depth-3 collapse">
  <a href="/docs/for-buildpack-authors/how-to/migrate/buildpack-api-0.9-0.10/">Buildpack API 0.9 -&gt; 0.10</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/deprecated/" class="dd-item depth-3 collapse haschildren">
  <a href="/docs/for-buildpack-authors/how-to/migrate/deprecated/">Deprecated (unsupported) APIs</a>
  <ul class="ml-2">
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/deprecated/buildpack-api-0.4-0.5/" class="dd-item depth-4 collapse">
  <a href="/docs/for-buildpack-authors/how-to/migrate/deprecated/buildpack-api-0.4-0.5/">Buildpack API 0.4 -&gt; 0.5</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/deprecated/buildpack-api-0.5-0.6/" class="dd-item depth-4 collapse">
  <a href="/docs/for-buildpack-authors/how-to/migrate/deprecated/buildpack-api-0.5-0.6/">Buildpack API 0.5 -&gt; 0.6</a>
</li>
<li data-nav-id="/docs/for-buildpack-authors/how-to/migrate/deprecated/buildpack-api-0.6-0.7/" class="dd-item depth-4 collapse">
  <a href="/docs/for-buildpack-authors/how-to/migrate/deprecated/buildpack-api-0.6-0.7/">Buildpack API 0.6 -&gt; 0.7</a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li>
<li data-nav-id="/docs/reference/" class="dd-item depth-0 haschildren">
  <a href="/docs/reference/">Reference</a>
  <ul class="ml-2">
<li data-nav-id="/docs/reference/config/" class="dd-item depth-1 collapse haschildren">
  <a href="/docs/reference/config/">Configuration</a>
  <ul class="ml-2">
<li data-nav-id="/docs/reference/config/project-descriptor/" class="dd-item depth-2 collapse">
  <a href="/docs/reference/config/project-descriptor/">project.toml</a>
</li>
<li data-nav-id="/docs/reference/config/builder-config/" class="dd-item depth-2 collapse">
  <a href="/docs/reference/config/builder-config/">builder.toml</a>
</li>
<li data-nav-id="/docs/reference/config/buildpack-config/" class="dd-item depth-2 collapse">
  <a href="/docs/reference/config/buildpack-config/">buildpack.toml</a>
</li>
<li data-nav-id="/docs/reference/config/package-config/" class="dd-item depth-2 collapse">
  <a href="/docs/reference/config/package-config/">package.toml</a>
</li>
  </ul>
</li>
<li data-nav-id="/docs/reference/spec/" class="dd-item depth-1 collapse haschildren">
  <a href="/docs/reference/spec/">Specification</a>
  <ul class="ml-2">
<li data-nav-id="/docs/reference/spec/buildpack-api/" class="dd-item depth-2">
  <a href="/docs/reference/spec/buildpack-api/">Buildpack API</a>
</li>
<li data-nav-id="/docs/reference/spec/distribution-api/" class="dd-item depth-2">
  <a href="/docs/reference/spec/distribution-api/">Distribution API</a>
</li>
<li data-nav-id="/docs/reference/spec/platform-api/" class="dd-item depth-2">
  <a href="/docs/reference/spec/platform-api/">Platform API</a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
  
</nav>



      </div>
      <div class='col-md-9 docs-content'>
        <div class="support-links text-right">
  
    
    
    <a href="https://github.com/buildpacks/docs/issues/new?body=%2A%2AOn&#43;Page%3A%2A%2A&#43;%5BOrchestrate&#43;a&#43;build&#43;with&#43;the&#43;CNB&#43;lifecycle%5D%28https%3A%2F%2Fbuildpacks.io%2Fdocs%2Ffor-platform-operators%2Ftutorials%2Flifecycle%2F%29"
       class="button-light button-small icon-button blank bg-white inline-flex" target="_blank">Report Issue</a>

    
    
    <a href="https://github.com/buildpacks/docs/edit/main/content/docs/for-platform-operators/tutorials/lifecycle/_index.md?description=Signed-off-by%3A&#43;NAME&#43;%3CEMAIL_ADDRESS%3E%0A%0A%3E&#43;_By&#43;signing&#43;off&#43;you&#43;acknowledge&#43;adhering&#43;to&#43;the&#43;requirements&#43;listed&#43;here%3A&#43;https%3A%2F%2Fprobot.github.io%2Fapps%2Fdco%2F_"
       class="button-light button-small icon-button github-button bg-white inline-flex" target="_blank">Edit</a>
    
  
</div>


        <div class="heading">
          <h1 class="title">Orchestrate a build with the CNB lifecycle</h1>
        </div>

        <p>A <code>platform</code> orchestrates builds by invoking the <a href="https://buildpacks.io/docs/for-platform-operators/concepts/lifecycle/">lifecycle</a> binary together with buildpacks and application source code to produce a runnable <code>OCI image</code>.</p>
<!-- test:suite=orchastrate-lifecycle;weight=1 -->
<!-- test:setup:exec;exit-code=-1 -->
<!--
```bash
mkdir /tmp/tutorial
git clone https://github.com/buildpacks/lifecycle /tmp/tutorial/lifecycle
git clone https://github.com/buildpacks/samples /tmp/tutorial/samples
```
-->
<!-- test:teardown:exec -->
<!--
```bash
rm -rf /tmp/tutorial
```
-->
<p>The majority of Buildpack users use community-maintained platforms, such as <a href="https://buildpacks.io/docs/for-platform-operators/how-to/integrate-ci/pack/">pack</a> and <a href="https://buildpacks.io/docs/for-platform-operators/how-to/integrate-ci/kpack/">kpack</a>, to run Buildpacks and create <code>OCI images</code>. However this might not be desireable especially for users maintaining their own platforms and seeking more control over how the underlying Buildpack <code>lifecycle phases</code> are executed.</p>
<blockquote>
<p>This tutorial is derived from a <a href="https://medium.com/buildpacks/unpacking-cloud-native-buildpacks-ff51b5a767bf">blog post</a> contributed by one of our community members.</p></blockquote>
<p>In this step-by-step tutorial, you will build a <code>Bash</code> application without using any <code>platform</code> tooling like <code>pack</code> or <code>kpack</code>. You will also leverage the individual <code>lifecycle phases</code> to produce a runnable application image.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>This tutorial has been tested on linux amd64 and darwin arm64 platforms. You&rsquo;ll need to clone a local copy of the following to get started:</p>
<ul>
<li>
<p>The CNB <code>lifecycle</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">git clone https://github.com/buildpacks/lifecycle
</span></span></code></pre></div></li>
<li>
<p>The official <code>Buildpack.io</code> samples repo</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">git clone https://github.com/buildpacks/samples
</span></span></code></pre></div></li>
</ul>
<p>As previously mentioned, the <code>lifecycle</code> orchestrates <code>Buildpacks</code> then assembles the resulting artifacts into an <code>OCI image</code>.  The <code>lifecycle</code> is composed of a series of distinct <code>phases</code> that need to be executed to have the final image built and exported.</p>
<h2 id="overview">Overview</h2>
<p>Now that you’re set up, let’s build our <code>Bash</code> application and dive deeper into the <code>lifecycle</code> and its phases.</p>
<h3 id="build-the-lifecycle">Build the lifecycle</h3>
<p>As a starting step, you need to build the <code>lifecycle</code> in order to use its phases. This could be done by navigating to the <code>lifecycle</code> directory and executing one of the following commands, depending on your system architecture.</p>
<ul>
<li><code>make build-linux-amd64</code> for <code>AMD64</code> architectures (for Linux users)</li>
<li><code>make build-darwin-arm64 &amp;&amp; make build-linux-arm64-launcher</code> for <code>ARM64</code> architectures (for Mac users)</li>
</ul>
<!-- test:exec -->
<!--
```bash
cd /tmp/tutorial/lifecycle
make build-linux-amd64 # hardcode CI tests to linux-amd64
```
-->
<p>It&rsquo;s recommended to check the <a href="https://github.com/buildpacks/lifecycle/releases">lifecycle releases</a> page to download binaries based on your system.</p>
<blockquote>
<p>Please note that the entire process is most easily followed on Linux systems</p></blockquote>
<h3 id="set-environment-variables">Set environment variables</h3>
<p>In order to execute the various <code>lifecycle phases</code> correctly, you first need to set the values of few important environment variables by running the following commands in the terminal:</p>
<pre tabindex="0"><code class="language-command" data-lang="command">export CNB_USER_ID=$(id -u) CNB_GROUP_ID=$(id -g) CNB_PLATFORM_API=0.14
export CNB_SAMPLES_PATH=&#34;/&lt;your-path&gt;/samples&#34;
export CNB_LIFECYCLE_PATH=&#34;/&lt;your-path/lifecycle/out/&lt;your-os-arch&gt;/lifecycle&#34;
</code></pre><p>Where</p>
<ul>
<li><code>CNB_USER_ID</code> and <code>CNB_GROUP_ID</code> are arbitrary values that need to be consistent. This example re-uses our user id and group id for the <code>CNB</code> user.  In a production system, these are commonly set to <code>1000</code>.</li>
<li><code>CNB_PLATFORM_API</code> or the <code>Platform API</code> version, varies depending on the use case. This tutorial uses <code>v0.14</code>, which is the latest <a href="https://github.com/buildpacks/spec/releases?q=platform">Platform API</a> version.</li>
<li><code>CNB_SAMPLES_PATH</code> represents the path of our local copy of the <code>samples</code> directory.</li>
<li><code>CNB_LIFECYCLE_PATH</code> represents the path of our local compiled <code>lifecycle</code> directory.</li>
</ul>
<blockquote>
<p>Please note that  we only run the commands above on a host machine for the purpose of this tutorial, which is not a common practice for buildpacks.</p></blockquote>
<h3 id="examine-lifecycle-phases">Examine lifecycle phases</h3>
<p>A single app image build consists of the following phases:</p>
<ol>
<li><a href="#analyze">Analysis</a></li>
<li><a href="#detect">Detection</a></li>
<li><a href="#restore">Cache Restoration</a></li>
<li><a href="#build">Build</a></li>
<li><a href="#export">Export</a></li>
</ol>
<blockquote>
<p>Note that a <code>platform</code> executes the phases above either by invoking phase-specific lifecycle binaries in order or by executing <code>/cnb/lifecycle/creator</code>.</p></blockquote>
<p>Let&rsquo;s expand each <code>lifecycle</code> phase to explain how the <code>lifecycle</code> orchestrates buildpacks:</p>
<h4 id="analyze">Analyze</h4>
<p>The <code>analyze</code> phase runs before the <code>detect</code> phase in order to validate registry access for all images used during the <code>build</code> as early as possible. In this way it provides faster failures for end users.</p>
<p>Prior to executing <code>/cnb/lifecycle/analyzer</code>, you need to create a parent directory for this tutorial and two other directories inside it as follows:</p>
<!-- test:exec -->
<pre tabindex="0"><code class="language-command" data-lang="command">mkdir -p /tmp/tutorial # or your preferred directory
cd /tmp/tutorial
mkdir -p apps/bash-script
mkdir -p layers
</code></pre><ul>
<li><code>apps</code> directory that contains a <code>bash-script</code> directory</li>
<li><code>layers</code> directory that contains subdirectories representing each layer created by the Buildpack in the final image or build cache.</li>
</ul>
<p>Next,  you need to copy the <code>bash-script</code> samples into our <code>apps/bash-script</code> directory, which will host our app&rsquo;s source code.</p>
<pre tabindex="0"><code class="language-command" data-lang="command">cp -r &#34;${CNB_SAMPLES_PATH}/apps/bash-script&#34; ./apps/
</code></pre><!-- test:exec -->
<!--
```command
cp -r "/tmp/tutorial/samples/apps/bash-script" ./apps/
```
-->
<p>Now, you can invoke the <code>analyzer</code> for <code>AMD64</code> architecture</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">${CNB_LIFECYCLE_PATH}/analyzer -log-level debug -daemon -layers=&#34;./layers&#34; -run-image cnbs/sample-stack-run:noble apps/bash-script
</span></span></code></pre></div><!-- test:exec -->
<!--
```command
export CNB_USER_ID=$(id -u) CNB_GROUP_ID=$(id -g) CNB_PLATFORM_API=0.14
export CNB_LIFECYCLE_PATH=/tmp/tutorial/lifecycle/out/linux-amd64/lifecycle
${CNB_LIFECYCLE_PATH}/analyzer -log-level debug -daemon -layers="./layers" -run-image cnbs/sample-stack-run:noble apps/bash-script
```
-->
<p>Or if you are on an <code>ARM64</code> platform</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">${CNB_LIFECYCLE_PATH}/analyzer -log-level debug -daemon -layers=&#34;./layers&#34; -run-image arm64v8/ubuntu:latest apps/bash-script
</span></span></code></pre></div><p>The commands above run the <code>analyzer</code> with:</p>
<ul>
<li>A <code>debug</code> logging level</li>
<li>Pointing to the local <code>Docker daemon</code> as the repository where the lifecycle should look for images</li>
<li>Pointing to the <code>layers</code> directory, which is the <code>lifecycle</code>&rsquo;s main working directory</li>
<li>Pointing to a <code>run</code> image, the base image for the application</li>
<li>Specifying a name for the final application image</li>
</ul>
<p>Now the <code>analyzer</code>:</p>
<ul>
<li>Checks the image repository (<code>daemon</code> in this case) for a previous image called <code>apps/bash-script</code></li>
<li>Reads metadata from the previous image (if it exists) for later use</li>
<li>Verifies that have permission to create or update the image called <code>apps/bash-script</code> in the image repository</li>
</ul>
<p>In this tutorial, there is no previous <code>apps/bash-script</code> image, and the output produced should be similar to the following:</p>
<!-- test:assert=contains;ignore-lines=... -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">Starting analyzer...
</span></span><span class="line"><span class="cl">Parsing inputs...
</span></span><span class="line"><span class="cl">Ensuring privileges...
</span></span><span class="line"><span class="cl">Executing command...
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">Image with name &#34;apps/bash-script&#34; not found
</span></span><span class="line"><span class="cl">Image with name &#34;cnbs/sample-stack-run:noble&#34; not found
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">Run image info in analyzed metadata is: 
</span></span><span class="line"><span class="cl">{&#34;Reference&#34;:&#34;&#34;,&#34;Image&#34;:&#34;cnbs/sample-stack-run:noble&#34;,&#34;Extend&#34;:false,&#34;target&#34;:{&#34;os&#34;:&#34;linux&#34;,&#34;arch&#34;:&#34;amd64&#34;}}
</span></span></code></pre></div><p>Now if you <code>cat ./layers/analyzed.toml</code>, you should see a few null entries, a <code>run-image</code> section that records the provided name provided, and the found <code>os/arch</code>.</p>
<h4 id="detect">Detect</h4>
<p>In this phase, the <code>detector</code> looks for an ordered group of buildpacks that will be used during the <code>build</code> phase. The <code>detector</code> requires an <code>order.toml</code> file to be provided. We can derive an order from <code>builder.toml</code> in the <code>samples</code> directory while removing the deprecated <code>stack</code> section as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">cat &#34;${CNB_SAMPLES_PATH}/builders/noble/builder.toml&#34; | grep -v -i &#34;stack&#34; | sed &#39;s/\.\.\/\.\./\./&#39; &gt; order.toml
</span></span></code></pre></div><p><code>order.toml</code> files contain a list of groups with each group containing a list of buildpacks. The <code>detector</code> reads <code>order.toml</code> and looks for the first group that passes the detection process.</p>
<h5 id="set-buildpacks-layout-directory">Set buildpacks layout directory</h5>
<p>Before running the <code>detector</code>, you need to:</p>
<ol>
<li>
<p>Create a <code>buildpacks</code> directory in the <code>root</code> directory</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">mkdir -p buildpacks
</span></span></code></pre></div></li>
<li>
<p>Then you must populate the <code>buildpacks</code> directory with your buildpacks of interest.</p>
<blockquote>
<p>You have to follow the <a href="https://github.com/buildpacks/spec/blob/main/platform.md#buildpacks-directory-layout">directory layout</a> defined in the buildpack spec, where each top-level directory is a <code>buildpack ID</code> and each second-level directory is a <code>buildpack version</code>.</p></blockquote>
<p>We will use <a href="http://github.com/tomwright/dasel/"><code>dasel</code></a> to help us parse toml files.</p>
<pre tabindex="0"><code class="language-command" data-lang="command">$ go install github.com/tomwright/dasel/v2/cmd/dasel@master
</code></pre><p>Let’s do that for every buildpack in the <code>samples/buildpacks</code> directory:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">for f in $(ls --color=no ${CNB_SAMPLES_PATH}/buildpacks | grep -v README)
</span></span><span class="line"><span class="cl">do
</span></span><span class="line"><span class="cl">bp_version=$(cat ${CNB_SAMPLES_PATH}/buildpacks/$f/buildpack.toml | dasel -r toml buildpack.version | sed s/\&#39;//g);
</span></span><span class="line"><span class="cl">mkdir -p ./buildpacks/samples_&#34;${f}&#34;/${bp_version}
</span></span><span class="line"><span class="cl">cp -r &#34;$CNB_SAMPLES_PATH/buildpacks/${f}/&#34; ./buildpacks/samples_&#34;${f}&#34;/${bp_version}/
</span></span><span class="line"><span class="cl">done
</span></span></code></pre></div></li>
</ol>
<p>Now, you can run the <code>detector</code> binary:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">${CNB_LIFECYCLE_PATH}/detector -log-level debug -layers=&#34;./layers&#34; -order=&#34;./order.toml&#34; -buildpacks=&#34;./buildpacks&#34; -app apps/bash-script
</span></span></code></pre></div><p>The output of the above command should have <code>layers/group.toml</code> and <code>layers/plan.toml</code> output files (i.e., the groups that have passed the detection have been written into the <code>group.toml</code> file writing its build plan into the <code>plan.toml</code> file)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Starting detector...
</span></span><span class="line"><span class="cl">Parsing inputs...
</span></span><span class="line"><span class="cl">Ensuring privileges...
</span></span><span class="line"><span class="cl">Executing command...
</span></span><span class="line"><span class="cl">Timer: Detector started at 2024-10-01T07:00:50Z
</span></span><span class="line"><span class="cl">Checking for match against descriptor: {linux   []}
</span></span><span class="line"><span class="cl">target distro name/version labels not found, reading /etc/os-release file
</span></span><span class="line"><span class="cl">Checking for match against descriptor: {linux   []}
</span></span><span class="line"><span class="cl">target distro name/version labels not found, reading /etc/os-release file
</span></span><span class="line"><span class="cl">Checking for match against descriptor: {linux   []}
</span></span><span class="line"><span class="cl">target distro name/version labels not found, reading /etc/os-release file
</span></span><span class="line"><span class="cl">Checking for match against descriptor: {linux   []}
</span></span><span class="line"><span class="cl">target distro name/version labels not found, reading /etc/os-release file
</span></span><span class="line"><span class="cl">Checking for match against descriptor: {linux   []}
</span></span><span class="line"><span class="cl">======== Results ========
</span></span><span class="line"><span class="cl">fail: samples/java-maven@0.0.2
</span></span><span class="line"><span class="cl">======== Results ========
</span></span><span class="line"><span class="cl">fail: samples/kotlin-gradle@0.0.2
</span></span><span class="line"><span class="cl">======== Results ========
</span></span><span class="line"><span class="cl">fail: samples/ruby-bundler@0.0.1
</span></span><span class="line"><span class="cl">======== Results ========
</span></span><span class="line"><span class="cl">pass: samples/hello-world@0.0.1
</span></span><span class="line"><span class="cl">pass: samples/hello-moon@0.0.1
</span></span><span class="line"><span class="cl">Resolving plan... (try #1)
</span></span><span class="line"><span class="cl">samples/hello-world 0.0.1
</span></span><span class="line"><span class="cl">samples/hello-moon  0.0.1
</span></span><span class="line"><span class="cl">Timer: Detector ran for 26.011769ms and ended at 2024-10-01T07:00:50Z
</span></span></code></pre></div><p>You can view more details about the <a href="https://buildpacks.io/docs/for-platform-operators/concepts/lifecycle/detect/#ordertoml">order</a>, <a href="https://buildpacks.io/docs/for-platform-operators/concepts/lifecycle/detect/#grouptoml">group</a> and <a href="https://buildpacks.io/docs/concepts/components/lifecycle/detect/#plantoml">plan</a> toml files in the platform documentation.</p>
<h4 id="restore">Restore</h4>
<p>The <code>restorer</code> copies cache contents, if there is a cache, into the build container. This avoids buildpacks having to re-download build-time dependencies that were downloaded during a previous build.</p>
<p>This tutorial doesn&rsquo;t have any previous builds, i.e., the <code>analyze</code> phase didn&rsquo;t return any <code>cached</code> image. Therefore the <code>restore</code> phase will not be copying any <code>cache</code> contents at this stage. Feel free to inspect the <code>cache</code> when the <code>build</code> is done, and re-run the tutorial using the cache created to see how this speeds things up.</p>
<p>Meanwhile you can start by creating a <code>cache</code> directory, and then run the <code>restorer</code> binary as added below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">mkdir cache
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">${CNB_LIFECYCLE_PATH}/restorer -log-level debug -daemon -layers=&#34;./layers&#34; -group=&#34;./layers/group.toml&#34; -cache-dir=&#34;./cache&#34; -analyzed=&#34;./layers/analyzed.toml&#34;
</span></span></code></pre></div><p>The <code>cache</code> directory should now be populated by two sub-directories, <code>committed</code> and <code>staging</code> as shown in the output below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Starting restorer...
</span></span><span class="line"><span class="cl">Parsing inputs...
</span></span><span class="line"><span class="cl">Ensuring privileges...
</span></span><span class="line"><span class="cl">Executing command...
</span></span><span class="line"><span class="cl">No run metadata found at path &#34;/cnb/run.toml&#34;
</span></span><span class="line"><span class="cl">Run image info in analyzed metadata is: 
</span></span><span class="line"><span class="cl">{&#34;Reference&#34;:&#34;&#34;,&#34;Image&#34;:&#34;cnbs/sample-stack-run:noble&#34;,&#34;Extend&#34;:false,&#34;target&#34;:{&#34;os&#34;:&#34;linux&#34;,&#34;arch&#34;:&#34;amd64&#34;}}
</span></span><span class="line"><span class="cl">Timer: Restorer started at 2024-10-01T07:03:47Z
</span></span><span class="line"><span class="cl">Restoring Layer Metadata
</span></span><span class="line"><span class="cl">Reading buildpack directory: /tmp/example/layers/samples_hello-world
</span></span><span class="line"><span class="cl">Reading buildpack directory: /tmp/example/layers/samples_hello-moon
</span></span><span class="line"><span class="cl">Reading Buildpack Layers directory /tmp/example/layers
</span></span><span class="line"><span class="cl">Reading buildpack directory: /tmp/example/layers/samples_hello-world
</span></span><span class="line"><span class="cl">Reading Buildpack Layers directory /tmp/example/layers
</span></span><span class="line"><span class="cl">Reading buildpack directory: /tmp/example/layers/samples_hello-moon
</span></span><span class="line"><span class="cl">Timer: Restorer ran for 274.41µs and ended at 2024-10-01T07:03:47Z
</span></span></code></pre></div><h4 id="build">Build</h4>
<p>The <code>builder</code> run buildpacks, that do the actual work of transforming application source code into runnable artifacts.</p>
<p>Before running the <code>builder</code>, the following steps are required:</p>
<ol>
<li>
<p>Create two directories:</p>
<ul>
<li><code>platform</code> directory to store platform configuration and environment variables</li>
<li><code>workspace</code> directory to store the application source code</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">mkdir -p platform
</span></span><span class="line"><span class="cl">mkdir -p workspace
</span></span></code></pre></div></li>
<li>
<p>Copy the source code from the <code>app</code> directory to the <code>workspace</code> directory</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">cp -r apps/bash-script/* ./workspace
</span></span></code></pre></div></li>
<li>
<p>Create a <code>launcher</code> file with instructions to run your application. Note that in a real buildpacks build, the <code>platform</code> does not create this file! The <code>samples/hello-moon</code> buildpack would create it. In our case, the <code>samples/hello-moon</code> buildpack hasn&rsquo;t been updated with this functionality, so we are faking that behavior.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">mkdir -p layers/samples_hello-moon
</span></span><span class="line"><span class="cl">cat &lt;&lt; EOF &gt; ./layers/samples_hello-moon/launch.toml
</span></span><span class="line"><span class="cl">[[processes]]
</span></span><span class="line"><span class="cl">type = &#34;shell&#34;
</span></span><span class="line"><span class="cl">command = [&#34;./app.sh&#34;]
</span></span><span class="line"><span class="cl">EOF
</span></span></code></pre></div></li>
</ol>
<p>Now you&rsquo;re ready to run the <code>builder</code> as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">${CNB_LIFECYCLE_PATH}/builder -log-level debug -layers=&#34;./layers&#34; -group=&#34;./layers/group.toml&#34; -analyzed=&#34;./layers/analyzed.toml&#34; -plan=&#34;./layers/plan.toml&#34; -buildpacks=&#34;./buildpacks&#34; -app=&#34;./workspace&#34; -platform=&#34;./platform&#34;
</span></span></code></pre></div><p>Taking a look at the following output shows that you have invoked the two buildpacks that we need in order to run our <code>bash-script</code> application.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Starting builder...
</span></span><span class="line"><span class="cl">Parsing inputs...
</span></span><span class="line"><span class="cl">Ensuring privileges...
</span></span><span class="line"><span class="cl">Executing command...
</span></span><span class="line"><span class="cl">Timer: Builder started at 2024-10-01T07:07:46Z
</span></span><span class="line"><span class="cl">target distro name/version labels not found, reading /etc/os-release file
</span></span><span class="line"><span class="cl">Running build for buildpack samples/hello-world@0.0.1
</span></span><span class="line"><span class="cl">Looking up buildpack
</span></span><span class="line"><span class="cl">Finding plan
</span></span><span class="line"><span class="cl">Creating plan directory
</span></span><span class="line"><span class="cl">Preparing paths
</span></span><span class="line"><span class="cl">Running build command
</span></span><span class="line"><span class="cl">---&gt; Hello World buildpack
</span></span><span class="line"><span class="cl">     platform_dir files:
</span></span><span class="line"><span class="cl">       /tmp/example/platform:
</span></span><span class="line"><span class="cl">       total 0
</span></span><span class="line"><span class="cl">       drwxr-xr-x 2 gitpod gitpod  40 Oct  1 07:04 .
</span></span><span class="line"><span class="cl">       drwxr-xr-x 8 gitpod gitpod 180 Oct  1 07:04 ..
</span></span><span class="line"><span class="cl">     env_dir: /tmp/example/platform/env
</span></span><span class="line"><span class="cl">     env vars:
</span></span><span class="line"><span class="cl">       declare -x CNB_BP_PLAN_PATH=&#34;/tmp/samples_hello-world-576309032/samples_hello-world/plan.toml&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_BUILDPACK_DIR=&#34;/tmp/example/buildpacks/samples_hello-world/0.0.1&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_LAYERS_DIR=&#34;/tmp/example/layers/samples_hello-world&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_PLATFORM_DIR=&#34;/tmp/example/platform&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_ARCH=&#34;amd64&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_DISTRO_NAME=&#34;ubuntu&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_DISTRO_VERSION=&#34;22.04&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_OS=&#34;linux&#34;
</span></span><span class="line"><span class="cl">       declare -x HOME=&#34;/home/gitpod&#34;
</span></span><span class="line"><span class="cl">       declare -x HOSTNAME=&#34;buildpacks-docs-dusxugo5ehi&#34;
</span></span><span class="line"><span class="cl">       declare -x OLDPWD
</span></span><span class="line"><span class="cl">       declare -x PATH=&#34;/bin:/usr/bin:/usr/local/bin&#34;
</span></span><span class="line"><span class="cl">       declare -x PWD=&#34;/tmp/example/workspace&#34;
</span></span><span class="line"><span class="cl">       declare -x SHLVL=&#34;1&#34;
</span></span><span class="line"><span class="cl">     layers_dir: /tmp/example/layers/samples_hello-world
</span></span><span class="line"><span class="cl">     plan_path: /tmp/samples_hello-world-576309032/samples_hello-world/plan.toml
</span></span><span class="line"><span class="cl">     plan contents:
</span></span><span class="line"><span class="cl">       [[entries]]
</span></span><span class="line"><span class="cl">         name = &#34;some-world&#34;
</span></span><span class="line"><span class="cl">       
</span></span><span class="line"><span class="cl">       [[entries]]
</span></span><span class="line"><span class="cl">         name = &#34;some-world&#34;
</span></span><span class="line"><span class="cl">         [entries.metadata]
</span></span><span class="line"><span class="cl">           world = &#34;Earth-616&#34;
</span></span><span class="line"><span class="cl">---&gt; Done
</span></span><span class="line"><span class="cl">Processing layers
</span></span><span class="line"><span class="cl">Updating environment
</span></span><span class="line"><span class="cl">Reading output files
</span></span><span class="line"><span class="cl">Updating buildpack processes
</span></span><span class="line"><span class="cl">Updating process list
</span></span><span class="line"><span class="cl">Finished running build for buildpack samples/hello-world@0.0.1
</span></span><span class="line"><span class="cl">Running build for buildpack samples/hello-moon@0.0.1
</span></span><span class="line"><span class="cl">Looking up buildpack
</span></span><span class="line"><span class="cl">Finding plan
</span></span><span class="line"><span class="cl">Creating plan directory
</span></span><span class="line"><span class="cl">Preparing paths
</span></span><span class="line"><span class="cl">Running build command
</span></span><span class="line"><span class="cl">---&gt; Hello Moon buildpack
</span></span><span class="line"><span class="cl">     env_dir: /tmp/example/platform/env
</span></span><span class="line"><span class="cl">     env vars:
</span></span><span class="line"><span class="cl">       declare -x CNB_BP_PLAN_PATH=&#34;/tmp/samples_hello-moon-3356528850/samples_hello-moon/plan.toml&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_BUILDPACK_DIR=&#34;/tmp/example/buildpacks/samples_hello-moon/0.0.1&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_LAYERS_DIR=&#34;/tmp/example/layers/samples_hello-moon&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_PLATFORM_DIR=&#34;/tmp/example/platform&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_ARCH=&#34;amd64&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_DISTRO_NAME=&#34;ubuntu&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_DISTRO_VERSION=&#34;22.04&#34;
</span></span><span class="line"><span class="cl">       declare -x CNB_TARGET_OS=&#34;linux&#34;
</span></span><span class="line"><span class="cl">       declare -x HOME=&#34;/home/gitpod&#34;
</span></span><span class="line"><span class="cl">       declare -x HOSTNAME=&#34;buildpacks-docs-dusxugo5ehi&#34;
</span></span><span class="line"><span class="cl">       declare -x OLDPWD
</span></span><span class="line"><span class="cl">       declare -x PATH=&#34;/bin:/usr/bin:/usr/local/bin&#34;
</span></span><span class="line"><span class="cl">       declare -x PWD=&#34;/tmp/example/workspace&#34;
</span></span><span class="line"><span class="cl">       declare -x SHLVL=&#34;1&#34;
</span></span><span class="line"><span class="cl">     layers_dir: /tmp/example/layers/samples_hello-moon
</span></span><span class="line"><span class="cl">     plan_path: /tmp/samples_hello-moon-3356528850/samples_hello-moon/plan.toml
</span></span><span class="line"><span class="cl">     plan contents:
</span></span><span class="line"><span class="cl">---&gt; Done
</span></span><span class="line"><span class="cl">Processing layers
</span></span><span class="line"><span class="cl">Updating environment
</span></span><span class="line"><span class="cl">Reading output files
</span></span><span class="line"><span class="cl">Updating buildpack processes
</span></span><span class="line"><span class="cl">Updating process list
</span></span><span class="line"><span class="cl">Finished running build for buildpack samples/hello-moon@0.0.1
</span></span><span class="line"><span class="cl">Copying SBOM files
</span></span><span class="line"><span class="cl">Creating SBOM files for legacy BOM
</span></span><span class="line"><span class="cl">Listing processes
</span></span><span class="line"><span class="cl">Timer: Builder ran for 20.200892ms and ended at 2024-10-01T07:07:46Z
</span></span></code></pre></div><h4 id="export">Export</h4>
<p>The purpose of the <code>export</code> phase is to take the output from buildpacks and package it into an <code>OCI</code> image using a combination of remote layers, local buildpack-contributed layers (under <code>&lt;layers&gt;</code>), and the processed <code>app</code> directory.</p>
<p>To export the artifacts built by the <code>builder</code>, you first need to specify where to find the <code>launcher</code> executable that will be bundled into your image as the entrypoint to run:</p>
<ul>
<li>
<p>For AMD64 architectures</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">export CNB_LINUX_LAUNCHER_PATH=/&lt;your-path&gt;/lifecycle/out/linux-amd64/lifecycle/launcher
</span></span></code></pre></div></li>
<li>
<p>For ARM64 Architectures</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">export CNB_LINUX_LAUNCHER_PATH=/&lt;your-path&gt;/lifecycle/out/linux-arm64/lifecycle/launcher
</span></span></code></pre></div></li>
</ul>
<p>Now you can run the <code>exporter</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">${CNB_LIFECYCLE_PATH}/exporter --log-level debug -launch-cache &#34;./cache&#34; -daemon -cache-dir &#34;./cache&#34; -analyzed &#34;./layers/analyzed.toml&#34; -group &#34;./layers/group.toml&#34; -layers=&#34;./layers&#34; -app &#34;./workspace&#34; -launcher=&#34;${CNB_LINUX_LAUNCHER_PATH}&#34; apps/bash-script
</span></span></code></pre></div><p>You can verify that the image was successfully exported by running the <code>docker images</code> command.</p>
<h3 id="run-the-app-image">Run the app image</h3>
<p>Finally, you can run the exported image as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">docker run -it apps/bash-script ./app.sh
</span></span></code></pre></div><p>The output should look similar to the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    |&#39;-_ _-&#39;|       ____          _  _      _                      _             _
</span></span><span class="line"><span class="cl">    |   |   |      |  _ \        (_)| |    | |                    | |           (_)
</span></span><span class="line"><span class="cl">     &#39;-_|_-&#39;       | |_) | _   _  _ | |  __| | _ __    __ _   ___ | | __ ___     _   ___
</span></span><span class="line"><span class="cl">|&#39;-_ _-&#39;|&#39;-_ _-&#39;|  |  _ &lt; | | | || || | / _` ||&#39;_ \  / _\ | / __|| |/ // __|   | | / _ \
</span></span><span class="line"><span class="cl">|   |   |   |   |  | |_) || |_| || || || (_| || |_) || (_| || (__ |   &lt; \__ \ _ | || (_) |
</span></span><span class="line"><span class="cl"> &#39;-_|_-&#39; &#39;-_|_-&#39;   |____/  \__,_||_||_| \__,_|| .__/  \__,_| \___||_|\_\|___/(_)|_| \___/
</span></span><span class="line"><span class="cl">                                              | |
</span></span><span class="line"><span class="cl">                                              |_|
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Here are the contents of the current working directory:
</span></span><span class="line"><span class="cl">.:
</span></span><span class="line"><span class="cl">total 24
</span></span><span class="line"><span class="cl">drwxr-xr-x 3 502 dialout 4096 Jan  1  1980 .
</span></span><span class="line"><span class="cl">drwxr-xr-x 1 502 root    4096 Jan  1  1980 ..
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 502 dialout  692 Jan  1  1980 README.md
</span></span><span class="line"><span class="cl">-rwxr-xr-x 1 502 dialout  736 Jan  1  1980 app.sh
</span></span><span class="line"><span class="cl">drwxr-xr-x 3 502 dialout 4096 Jan  1  1980 bash-script-buildpack
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 502 dialout  202 Jan  1  1980 project.toml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">./bash-script-buildpack:
</span></span><span class="line"><span class="cl">total 16
</span></span><span class="line"><span class="cl">drwxr-xr-x 3 502 dialout 4096 Jan  1  1980 .
</span></span><span class="line"><span class="cl">drwxr-xr-x 3 502 dialout 4096 Jan  1  1980 ..
</span></span><span class="line"><span class="cl">drwxr-xr-x 2 502 dialout 4096 Jan  1  1980 bin
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 502 dialout  226 Jan  1  1980 buildpack.toml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">./bash-script-buildpack/bin:
</span></span><span class="line"><span class="cl">total 16
</span></span><span class="line"><span class="cl">drwxr-xr-x 2 502 dialout 4096 Jan  1  1980 .
</span></span><span class="line"><span class="cl">drwxr-xr-x 3 502 dialout 4096 Jan  1  1980 ..
</span></span><span class="line"><span class="cl">-rwxr-xr-x 1 502 dialout  345 Jan  1  1980 build
</span></span><span class="line"><span class="cl">-rwxr-xr-x 1 502 dialout  242 Jan  1  1980 detect
</span></span></code></pre></div><h2 id="wrapping-up">Wrapping up</h2>
<p>At the end of this tutorial, we hope that you now have a better understanding of what happens during each <code>lifecycle phase</code>, and how you could use <code>Buildpacks</code> to create container images. You are now ready to explore this technology further and customize it to fit your application development and deployment needs.</p>

        
      

        <hr>
<div class='footline d-block'>
  <div class="support-links text-right">
  
    
    
    <a href="https://github.com/buildpacks/docs/issues/new?body=%2A%2AOn&#43;Page%3A%2A%2A&#43;%5BOrchestrate&#43;a&#43;build&#43;with&#43;the&#43;CNB&#43;lifecycle%5D%28https%3A%2F%2Fbuildpacks.io%2Fdocs%2Ffor-platform-operators%2Ftutorials%2Flifecycle%2F%29"
       class="button-light button-small icon-button blank bg-white inline-flex" target="_blank">Report Issue</a>

    
    
    <a href="https://github.com/buildpacks/docs/edit/main/content/docs/for-platform-operators/tutorials/lifecycle/_index.md?description=Signed-off-by%3A&#43;NAME&#43;%3CEMAIL_ADDRESS%3E%0A%0A%3E&#43;_By&#43;signing&#43;off&#43;you&#43;acknowledge&#43;adhering&#43;to&#43;the&#43;requirements&#43;listed&#43;here%3A&#43;https%3A%2F%2Fprobot.github.io%2Fapps%2Fdco%2F_"
       class="button-light button-small icon-button github-button bg-white inline-flex" target="_blank">Edit</a>
    
  
</div>

</div>

      </div>
    </div>
  </div>
</div>





  <footer>
  <div class="container footer">
    <a href="https://www.cncf.io/" style="width: 50%;"><img src="/images/cncf-color.svg" class="footer-logo" alt="CNCF logo" ></a>
    <p>We are a <a href="https://www.cncf.io/">Cloud Native Computing Foundation</a> incubating project.</p>
  </div>
  <div class="bg-blue">
    <div class="container sub-footer">
      <ul>
        
        <li><a target="_blank" rel="noopener noreferrer" href="https://buildpacks.devstats.cncf.io/d/8/dashboards?orgId=1&amp;refresh=15m">DevStats</a></li>
        
        <li><span>&bull;</span><a target="_blank" rel="noopener noreferrer" href="https://www.linuxfoundation.org/privacy/">Privacy Policy</a></li>
        
      </ul>

      <ul>
        
        <li><a target="_blank" rel="noopener noreferrer" href="https://lists.cncf.io/g/cncf-buildpacks/join">Mailing List</a></li>
        
        <li><span>&bull;</span><a target="_blank" rel="noopener noreferrer" href="https://slack.cncf.io">Slack</a></li>
        
        <li><span>&bull;</span><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/buildpacks_io">Twitter</a></li>
        
        <li><span>&bull;</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/buildpacks">GitHub</a></li>
        
      </ul>
    </div>
    <div class="container sub-footer">
      <ul>
        <li><p>Copyright © 2022 The Linux Foundation ®. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="(https://www.linuxfoundation.org/trademark-usage">Trademark Usage page</a></p></li>
      </ul>
    </div>
  </div>
</footer>


    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/asciinema-player/2.6.1/asciinema-player.min.js"></script>
</body>

</html>
